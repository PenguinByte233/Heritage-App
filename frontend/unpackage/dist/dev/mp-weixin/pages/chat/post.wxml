<view class="container"><view class="header"><view class="header-left"><view class="back-button" bindtap="{{a}}"><text class="back-icon">←</text></view></view><view class="header-title">发布内容</view><view class="header-right"><button disabled="{{b}}" class="{{['publish-button', c && 'publish-button-active']}}" bindtap="{{d}}">发布</button></view></view><view class="post-form"><view class="user-info"><image class="avatar" src="{{e}}"></image><view class="user-detail"><text class="nickname">{{f}}</text><text class="hint">发布内容将以本账号名义展示</text></view></view><view class="content-area"><block wx:if="{{r0}}"><textarea class="content-input" placeholder="分享你的心情、经验或问题..." maxlength="500" auto-height bindinput="{{g}}" value="{{h}}"></textarea></block><view class="{{['word-count', j && 'word-count-warning']}}">{{i}}/500 </view></view><view class="image-upload-area"><view class="image-upload-title"><text class="title-text">添加图片</text><text class="title-hint">(选填，最多9张)</text></view><view class="image-list"><view wx:for="{{k}}" wx:for-item="img" wx:key="c" class="image-item"><image class="preview-image" src="{{img.a}}" mode="aspectFill"></image><view class="delete-button" bindtap="{{img.b}}">×</view></view><view wx:if="{{l}}" class="image-upload-button" bindtap="{{m}}"><text class="upload-icon">+</text></view></view></view></view><view wx:if="{{n}}" class="submit-modal"><view class="modal-content"><view class="modal-title">确认发布</view><view class="modal-body">您确定要发布这条内容吗？</view><view class="modal-footer"><button class="modal-button cancel" bindtap="{{o}}">取消</button><button class="modal-button confirm" bindtap="{{p}}">确认</button></view></view></view><view wx:if="{{q}}" class="loading-container"><view class="loading-spinner"></view><text class="loading-text">正在发布...</text></view></view>